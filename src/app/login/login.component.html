<div class="login-container">
  <h2>Login {{envname}}</h2>
  <form (ngSubmit)="login()" [formGroup]="loginForm" class="login-form" autocomplete="off">
    <div class="form-group">
      <label for="email">Email:</label>
      <input id="email" type="text" placeholder="Enter your email" formControlName="email" class="form-control" autocomplete="off" />
      <div *ngIf="loginForm.get('email').invalid && (loginForm.get('email').dirty || loginForm.get('email').touched)">
        <div *ngIf="loginForm.get('email').errors?.['required']" class="error-message">
          Email is required.
        </div>
        <div *ngIf="loginForm.get('email').errors?.['pattern']" class="error-message">
          Please provide a valid email address.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="password">Password:</label>
      <div class="password-input">
        <input id="password" type="{{ hide ? 'password' : 'text' }}" placeholder="Enter your password" formControlName="password" class="form-control" autocomplete="new-password" />
        <button mat-icon-button type="button" class="password-toggle-button" (click)="togglePasswordVisibility()">
          <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
      </div>
      <div *ngIf="loginForm.get('password').invalid && (loginForm.get('password').dirty || loginForm.get('password').touched)">
        <div *ngIf="loginForm.get('password').errors?.['required']" class="error-message">
          Password is required.
        </div>
        <div *ngIf="loginForm.get('password').errors?.['minlength']" class="error-message">
          Password must be at least 6 characters long.
        </div>
      </div>
    </div>
    <button type="submit" mat-raised-button color="primary" [disabled]="loginForm.invalid">Login</button>
  </form>
  <a class="forgot-password-link" (click)="navigateToForgotPassword()">Forgot Your Password?</a>
  <div *ngIf="loginError" class="error-message">
    {{ loginError }}
  </div>
</div>
